{"version":3,"file":"products.bundel.js","mappings":"YAEuBA,SAASC,cAAc,wBAC7BD,SAASE,iBAAiB,+BAD3C,MAEMC,EAAYH,SAASE,iBAAiB,0BACtCE,EAASJ,SAASK,eAAe,OAIvC,SAASC,EAAeC,GAEpBP,SAASE,iBAAiB,+BAA+BM,SAAQC,IAG1DA,EAAQC,UAAUC,SAASJ,IAAkB,QAATA,GAA2B,KAATA,GACvDE,EAAQG,MAAMC,QAAQ,SAEtBV,EAAUK,SAAQM,IAEbA,EAAGC,QAAQC,MAAQT,EAClBO,EAAGJ,UAAUO,IAAI,UACF,KAATV,EACNH,EAAOM,UAAUO,IAAI,UAErBH,EAAGJ,UAAUQ,OAAO,cAK1BT,EAAQG,MAAMC,QAAQ,UAMhCM,OAAOC,iBAAiB,cAAc,WAClCd,EAAea,OAAOE,SAASd,KAAKe,MAAM,OAe9C,MAEMC,EAAmBvB,SAASC,cAAc,sBAC1CuB,EAAOxB,SAASC,cAAc,kBA+DpCwB,MACE,oFACA,CACEC,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,sDAEjBC,KAAMC,KAAKC,UAAU,CACnBC,MAxCoB,6cA4CvBC,MAAMC,GAAQA,EAAIC,SAClBF,MAAMG,IACL,MAAMC,EAAWD,EAASE,KAAKC,mBAAmBC,MAI5CC,EAAWzC,SAAS0C,yBAC1BL,EAAS7B,SAASmC,IAEd,MAAOC,KAAI,GAACC,GAAG,YAACC,EAAW,KAACC,EAAI,SAACC,EAAQ,YAACC,EAAW,MAACC,EAAK,MAACC,EAAK,mBAACC,EAAkB,mBAACC,EAAkB,mBAACC,EAAkB,mBAACC,EAAkB,mBAACC,GAAsBb,EAGpK,IAAIc,EAAMzD,SAAS0D,cAAc,OACjCD,EAAIZ,GAAKA,EACTY,EAAI/C,UAAUO,IAAI,WAClBwC,EAAI/C,UAAUO,IAAI,GAAG+B,EAAS,GAAGW,iBACjCV,GAAaQ,EAAI/C,UAAUO,IAAI,YAE/BwC,EAAIG,UA7FZ,SAAyBd,EAAYC,EAAKE,EAAYC,EAAMC,EAAMC,EAAmBC,EAAmBC,EAAmBC,EAAmBC,GAE1I,MAAO,oDAEOP,EAAa,uBAAuB,kDAAkDC,EAAMW,oGAIlGT,EAAmB,OAAOA,SAA0B,iBACpDC,EAAmB,OAAOA,SAA0B,iBACpDC,EAAmB,OAAOA,SAA0B,iBACpDC,EAAmB,OAAOA,SAA0B,iBACpDC,EAAmB,OAAOA,SAA0B,yGAKxCV,OAAiBC,6FAGVI,omCAyEPW,CAAgBhB,EAAYC,EAAKE,EAAYC,EAAMC,EAAMC,EAAmBC,EAAmBC,EAAmBC,EAAmBC,GACrJC,EAAIM,QAAU,KAEZ,GAAKC,aAAaC,QAQb,CAEH,IAAIC,EAAYpC,KAAKqC,MAAMH,aAAa3B,UACpC6B,EAAUrB,IAWVuB,QAAQC,IAAI,GAEZH,EAAUrB,GAAIyB,QAAU,EACxBN,aAAa3B,SAAWP,KAAKC,UAAUmC,GACvCF,aAAaC,SAAWD,aAAaC,QAAU,EAE/CD,aAAaO,WAAaP,aAAaO,UAAYpB,IAhBrDiB,QAAQC,IAAI,GAEZH,EAAY,IAAIA,EAAU,CAACrB,GAAI,IAAIF,EAAK2B,OAAO,IAC/CN,aAAa3B,SAAWP,KAAKC,UAAUmC,GACvCF,aAAaC,SAAWD,aAAaC,QAAU,EAE/CD,aAAaO,WAAaP,aAAaO,UAAYpB,QAjBrDa,aAAaC,QAAU,EAEvBD,aAAa3B,SAAWP,KAAKC,UAAU,CAAC,CAACc,GAAI,IAAIF,EAAK2B,OAAO,KAC7DF,QAAQC,IAAI,GAEZL,aAAaO,UAAYpB,EAyBzBiB,QAAQC,IAAI,cAAevC,KAAKqC,MAAMH,aAAa3B,WACrDb,EAAKgD,WAAchD,EAAKgD,UAAY,GAEtC/B,EAASgC,YAAYhB,MAEzBlC,EAAiBkD,YAAYhC,MAI5BR,MAAK,KACN3B,EAAea,OAAOE,SAASd,KAAKe,MAAM,OAE3CoD,OAAOC,IACNP,QAAQC,IAAI,UAAWM,M","sources":["webpack://fto/./src/products.js"],"sourcesContent":["/*****************filter Products*******************/\r\n\r\nconst productsFliter = document.querySelector('.product-filter  nav')\r\nconst products = document.querySelectorAll('.product-container .product')\r\nconst activeNav = document.querySelectorAll('.product-filter nav li')\r\nconst allTab = document.getElementById('all')\r\n\r\n\r\n\r\nfunction filterProducts(hash){\r\n\r\n    document.querySelectorAll('.product-container .product').forEach(product =>{\r\n        // console.log('allâ›”', document.querySelectorAll('.product-container .product'));\r\n\r\n        if(product.classList.contains(hash) || hash === \"all\" || hash === \"\"){\r\n          product.style.display='inline'\r\n          // make button active\r\n          activeNav.forEach(li =>{\r\n              \r\n            if(li.dataset.get === hash){\r\n                li.classList.add('active')\r\n            }else if (hash === \"\"){\r\n                allTab.classList.add('active')\r\n            }else{\r\n                li.classList.remove('active')\r\n\r\n            }\r\n          })\r\n        }else{\r\n          product.style.display='none'\r\n        }\r\n        \r\n      })\r\n}\r\n\r\nwindow.addEventListener('hashchange', function(){\r\n    filterProducts(window.location.hash.slice(1));\r\n});\r\n\r\n/*****************filter Products*******************/\r\n\r\n\r\n\r\n/*****************GrapgQl*******************/\r\n// https://www.youtube.com/watch?v=BkecWwcLYuk&ab_channel=Contentful\r\n// https://codesandbox.io/s/6j2z03p76k?file=/src/index.js:101-407\r\n\r\n// â¬‡â¬‡â¬‡â¬‡ test graphql Online â¬‡â¬‡â¬‡â¬‡\r\n// // https://graphql.contentful.com/content/v1/spaces/qsose1xd63wa/explore?access_token=SVgVyebXkcCkniau_rnQw1cGDD8ifmrV1CSqc6d53Wo\r\n// ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§ðŸš§\r\n\r\nconst accessToken = \"SVgVyebXkcCkniau_rnQw1cGDD8ifmrV1CSqc6d53Wo\";\r\nconst spaceId = \"qsose1xd63wa\";\r\nconst productContainer = document.querySelector(\".product-container\")\r\nconst cart = document.querySelector(\".cart .counter\")\r\nfunction generateProduct(productName,unit,avilability,image,price,benefitsAndValues1,benefitsAndValues2,benefitsAndValues3,benefitsAndValues4,benefitsAndValues5){\r\n    \r\n    return `\r\n    <div class=\"img-wrapper\">\r\n      <p class=\"${avilability ?\"show-in-season-badge\":\"hide-in-season-badge\"}\">in season</p><img src=\"${image.url}\">\r\n      <div class=\"back\">\r\n        <h6>Benefits &amp; Values</h6>\r\n        <ul>\r\n          ${benefitsAndValues1?`<li>${benefitsAndValues1}</li>`:''}\r\n          ${benefitsAndValues2?`<li>${benefitsAndValues2}</li>`:''}\r\n          ${benefitsAndValues3?`<li>${benefitsAndValues3}</li>`:''}\r\n          ${benefitsAndValues4?`<li>${benefitsAndValues4}</li>`:''}\r\n          ${benefitsAndValues5?`<li>${benefitsAndValues5}</li>`:''}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"product-detials\">\r\n      <p class=\"name\">${productName} - ${unit}</p>\r\n      <hr>\r\n      <div class=\"price-cart-container\">\r\n        <p class=\"price\">EGP ${price} </p>\r\n        <button>add\r\n          <svg stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" viewBox=\"0 0 1024 1024\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 0 0-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 1 0 0 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 0 0-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 0 0-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 0 0-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 0 0-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 0 1-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 0 1-31.6 31.6z\"></path>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n`\r\n}\r\n\r\nconst contentfulGQquery = `\r\n{\r\n  productsCollection{\r\n    items{\r\n      sys{\r\n        id\r\n      }\r\n      productName\r\n      unit\r\n      category\r\n      avilability\r\n      image {\r\n        title\r\n        description\r\n        contentType\r\n        fileName\r\n        size\r\n        url\r\n        width\r\n        height\r\n      }\r\n      price\r\n      benefitsAndValues1\r\n      benefitsAndValues2\r\n      benefitsAndValues3\r\n      benefitsAndValues4\r\n      benefitsAndValues5\r\n    }\r\n  }\r\n}\r\n`;\r\nfetch(\r\n  `https://graphql.contentful.com/content/v1/spaces/${spaceId}/environments/master`,\r\n  {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n      authorization: `Bearer ${accessToken}`,\r\n    },\r\n    body: JSON.stringify({\r\n      query:contentfulGQquery,\r\n    }),\r\n  }\r\n)\r\n  .then((res) => res.json())\r\n  .then((response) => {\r\n    const products = response.data.productsCollection.items\r\n    // console.log('products: ', products);\r\n    // [{extract from array > extract from object}]\r\n    \r\n    const fragment = document.createDocumentFragment();\r\n    products.forEach((prod) =>{\r\n      \r\n        const {sys:{id},productName,unit,category,avilability,image,price,benefitsAndValues1,benefitsAndValues2,benefitsAndValues3,benefitsAndValues4,benefitsAndValues5} = prod\r\n        \r\n        // console.log('avilability: ', avilability);\r\n        var div = document.createElement('div');\r\n        div.id = id\r\n        div.classList.add(\"product\")\r\n        div.classList.add(`${category[0].toLowerCase()}`)\r\n        avilability? div.classList.add(\"inseason\"):null\r\n        \r\n        div.innerHTML = generateProduct(productName,unit,avilability,image,price,benefitsAndValues1,benefitsAndValues2,benefitsAndValues3,benefitsAndValues4,benefitsAndValues5);\r\n        div.onclick = ()=> {\r\n          // adding first product (localstorage is empty) //\r\n          if( !localStorage.cartNum){\r\n            localStorage.cartNum = 1\r\n            \r\n            localStorage.products = JSON.stringify({[id]:{...prod,inCart:1}})\r\n            console.log(1);\r\n            // adding totalPrice\r\n            localStorage.totalCost = price\r\n            \r\n          }else{\r\n            // threr is one product at least  //\r\n            let prodlocal = JSON.parse(localStorage.products)\r\n            if(!prodlocal[id]){\r\n              console.log(2);\r\n              // append new product and update cart\r\n              prodlocal = {...prodlocal,[id]:{...prod,inCart:1}}\r\n              localStorage.products = JSON.stringify(prodlocal)\r\n              localStorage.cartNum = +localStorage.cartNum + 1\r\n              // append total price for appeneded product\r\n              localStorage.totalCost = +localStorage.totalCost + price\r\n\r\n                \r\n              }else{\r\n                console.log(3);\r\n                // update cart and incart for existing products\r\n                prodlocal[id].inCart += 1\r\n                localStorage.products = JSON.stringify(prodlocal)\r\n                localStorage.cartNum = +localStorage.cartNum + 1\r\n\r\n                localStorage.totalCost = +localStorage.totalCost + price\r\n              }\r\n            }\r\n            console.log('prodlocal: ', JSON.parse(localStorage.products));\r\n          cart.innerText  = +cart.innerText + 1\r\n        }\r\n        fragment.appendChild(div);\r\n    })\r\n    productContainer.appendChild(fragment)\r\n    // generateProduct(productName,unit,category,avilability,image,price)\r\n    \r\n    \r\n  }).then(()=>{\r\n    filterProducts(window.location.hash.slice(1))\r\n  })\r\n  .catch((error) => {\r\n    console.log(\"error: \", error);\r\n  });\r\n\r\n\r\n/*****************GrapgQl*******************/\r\n\r\n"],"names":["document","querySelector","querySelectorAll","activeNav","allTab","getElementById","filterProducts","hash","forEach","product","classList","contains","style","display","li","dataset","get","add","remove","window","addEventListener","location","slice","productContainer","cart","fetch","method","headers","authorization","body","JSON","stringify","query","then","res","json","response","products","data","productsCollection","items","fragment","createDocumentFragment","prod","sys","id","productName","unit","category","avilability","image","price","benefitsAndValues1","benefitsAndValues2","benefitsAndValues3","benefitsAndValues4","benefitsAndValues5","div","createElement","toLowerCase","innerHTML","url","generateProduct","onclick","localStorage","cartNum","prodlocal","parse","console","log","inCart","totalCost","innerText","appendChild","catch","error"],"sourceRoot":""}